<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>
      ArcGIS API for JavaScript Tutorials: Add a point, line, and polygon
    </title>
    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.17/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.17/"></script>
    <script>
      let map;
      var list_points = [];
      var string_points = "";

      function copyTextToClipboard(text) {
        if (!navigator.clipboard) {
          fallbackCopyTextToClipboard(text);
          return;
        }
        navigator.clipboard.writeText(text).then(
          function () {
            console.log("Async: Copying to clipboard was successful!");
          },
          function (err) {
            console.error("Async: Could not copy text: ", err);
          }
        );
      }
      require([
        "esri/config",
        "esri/Map",
        "esri/views/MapView",
        "esri/Graphic",
        "esri/layers/GraphicsLayer",
      ], function (esriConfig, Map, MapView, Graphic, GraphicsLayer) {
        esriConfig.apiKey = "YOUR_API_KEY";

        const map = new Map({
          basemap: "topo-vector", //Basemap layer service
        });

        var view = new MapView({
          container: "viewDiv",
          map: map,
          center: [106.70259564594245, 10.777053948183786],
          zoom: 19,
        });
        view.popup.autoOpenEnabled = false; // Disable the default popup behavior
        view.on("click", function (event) {
          // Listen for the click event
          view.hitTest(event).then(function (hitTestResults) {
            // Search for features where the user clicked
            if (hitTestResults.results) {
              list_points.push([
                event.mapPoint.longitude,
                event.mapPoint.latitude,
              ]);
              string_points +=
                "[" +
                event.mapPoint.longitude +
                ", " +
                event.mapPoint.latitude +
                "],";
              copyTextToClipboard(string_points);
              console.log(list_points);
            }
          });
        });
        const graphicsLayer = new GraphicsLayer();
        map.add(graphicsLayer);

        const point = {
          //Create a point
          type: "point",
          longitude:  106.702948,

          latitude: 
10.776598





        };
        const simpleMarkerSymbol = {
          type: "simple-marker",
          color: [226, 119, 40], // Orange
          outline: {
            color: [255, 255, 255], // White
            width: 1,
          },
        };

        const pointGraphic = new Graphic({
          geometry: point,
          symbol: simpleMarkerSymbol,
        });
        graphicsLayer.add(pointGraphic);

        // Create a line geometry
                
        const simpleLineSymbol = {
          type: "simple-line",
          color: [226, 119, 40], // Orange
          width: 2,
        };

        const simpleLineSymbol2 = {
          type: "simple-line",
          color: [234, 110, 6], // Orange
          width: 2,
        };

        const bottom = {
          type: "polyline",
          paths: [
            [106.702883, 10.776532],
            [106.703259, 10.77695],
            [106.703284, 10.776928],
            [106.703393, 10.777048],
            [106.703388, 10.777053],
            [106.703443, 10.777114],
            [106.703502, 10.777062],
            [106.703477, 10.777035],
            [106.703575, 10.776948],
            [106.7036, 10.776975],
            [106.703659, 10.776924],
            [106.703604, 10.776863],
            [106.703599, 10.776867],
            [106.70349, 10.776747],
            [106.703515, 10.776725],
            [106.703138, 10.776307],
            [106.70308833420904, 10.776350511191762],
            [106.70307124911255, 10.776331259856763],
          [ 106.70291566700368, 10.776468505595318],
          [106.70293310136233, 10.776487443980962],
            [106.702883, 10.776532],
          ],
        };

        const body = {
          type: "polyline",
          paths: [
          [106.70288884491356, 10.776531578649001], 
          [106.702948,10.776598],
          [106.70297165811684, 10.776576866081491],
            [106.70291318936931, 10.776511988785456],
            [106.70339726278567, 10.777048374526876],
            [106.703392345837, 10.777053207117726],
            [106.70344347544653, 10.777109363435798],
            [106.70349820927336, 10.777061194160673],
            [106.70347432084992, 10.777033939405186],
            [106.70357437709588, 10.776944952700099],
            [106.70359963030216, 10.77697119581941],
            [106.70365469940569, 10.776924096951134],
            [106.70360373743468, 10.776867364213683],
            [106.70359895974966, 10.776870987204525],
            [106.70317148268833, 10.77640032739708],
            [ 106.703197,10.776378],  

            [106.70313778743765, 10.77631337546969],
            [106.70308883712323, 10.776356275050638],
            [106.70307048075524, 10.776335772180666],
            [106.70301901586978, 10.776381471346786],
            [106.70303728841877, 10.776402138895307],
            [106.70298926011372, 10.776444462077906],
            [106.70297090374571, 10.776423794532286],
          [106.70292027705051, 10.776468670276932],
          [106.70293813050426, 10.77648834972982],
          [106.70288884491356, 10.776531578649001], 
          ],
        };

        const roofBorder = {
          type: "polyline",
          paths: [
          [ 106.702878,10.776532],
          [106.702947,10.776608],
[106.70297031701227, 10.776587817405053],
[106.70338564031448, 10.777048101997435],
[106.70338103026765, 10.777052630733218],
[106.70344372690333, 10.777120561761809],
[106.70351036303349, 10.777062593951706],
[106.70348555260031, 10.777034515789667],
[106.70357347876448, 10.776956868542046],
[106.70359887593106, 10.776983629260602],
[106.7036671046228, 10.776925085039325],
[106.70360532999636, 10.776855671833957],
[106.70359996557842, 10.776860447594746],
[106.70318271443877, 10.776400245056248],
[106.703207,10.776379 ],
[106.703139,10.776303 ],
[106.703089,10.776347],
[ 106.703071,10.776327],
[106.70303762369475, 10.776356357391483],
[106.7030363664093, 10.776355204619732],
[106.703032,10.776359],
[106.70303720459971, 10.776365085520453],
[106.70301901586978, 10.776381471346786],
            [106.70303728841877, 10.776402138895307],
            [106.70298926011372, 10.776444462077906],
            [106.70297090374571, 10.776423794532286],
             [106.70295221210155, 10.776439933332952],
            [106.702947,10.776434 ],
[106.70294148326545, 10.776438533539043],
[106.70294290818896, 10.776440015673785],
[106.702910,10.776468 ],
[ 106.702928,10.776488],
[ 106.702878,10.776532],
          ],
        };

        const roofBorderSecond = {
          type: "polyline",
          paths: [
           [106.70288884491356, 10.776531578649001,24.31], 
               [106.702948,10.776598,24.31],
              [106.70297165811684, 10.776576866081491,24.31],
                [106.70339726278567, 10.777048374526876,24.31],
                [106.703392345837, 10.777053207117726,24.31],
                [106.70344347544653, 10.777109363435798,24.31],
                [106.70349820927336, 10.777061194160673,24.31],
                [106.70347432084992, 10.777033939405186,24.31],
                [106.70357437709588, 10.776944952700099,24.31],
                [106.70359963030216, 10.77697119581941,24.31],
                [106.70365469940569, 10.776924096951134,24.31],
                [106.70360373743468, 10.776867364213683,24.31],
                [106.70359895974966, 10.776870987204525,24.31],
                [106.70317148268833, 10.77640032739708,24.31],
                [ 106.703197,10.776378,24.31],                  
                [106.70313778743765, 10.77631337546969,24.31],
                [106.70308883712323, 10.776356275050638,24.31],
                [106.70307048075524, 10.776335772180666,24.31],
                [106.70303720459971, 10.776365085520453,24.31],

                [106.70304026841599, 10.776368561672745,24.31],//vong trong
                [106.70307064839348, 10.776342030084898,24.31],
                [106.70308892094218, 10.776361627205223,24.31],
                [106.70313753598059, 10.77631905698843,24.31],
                [106.70319185071308, 10.77637834239509,24.31],
                [106.70316712409877, 10.77640024505626,24.31],
                [106.70359794079286, 10.776876532613757,24.31],
                [106.70360306688248, 10.776873045721954,24.31],
                [106.70364925116903, 10.776923685247668,24.31],
                [106.7035996303023, 10.776965514312893,24.31],
                [106.70357565805918, 10.776939906362248,24.31],
                [106.70346987844135, 10.777033445361141,24.31],
               // [106.70349343158911, 10.777060947138734,24.31],
                [106.70344297253205, 10.777104999382063,24.31],
                [106.70339695588376, 10.777053783502298,24.31],
                [106.70340232030165, 10.777049337107195,24.31],
                [106.70297229480975, 10.77657167474845,24.31],
                [106.7029482731074, 10.776592983269957,24.31],
                [106.70289504752199, 10.776532155034541,24.31],
                [106.70294349492221, 10.77648917313786,24.31],
                [106.70292539001134, 10.776469081980984,24.31],
                [106.70295472667246, 10.776443062284011,24.31], 

                [106.70295221210155, 10.776439933332952,24.31],
                [106.70292027705051, 10.776468670276932,24.31],
              [106.70293813050426, 10.77648834972982,24.31],
          [106.70288884491356, 10.776531578649001,24.31],

          ],
        };



        const body1 = {
          type: "polyline",
          paths: [
          [106.70292539001134, 10.776469081980984,24.31],
          [106.70299973749252, 10.776551669801703],

          ],
        };


        const bottomGraphic = new Graphic({
          geometry: bottom,
          symbol: simpleLineSymbol,
        });

        const bodyGraphic = new Graphic({
          geometry: body,
          symbol: simpleLineSymbol,
        });

        
        const roofBorderGraphic = new Graphic({
          geometry: roofBorder,
          symbol: simpleLineSymbol,
        });

        const roofBorderSecondGraphic = new Graphic({
          geometry: roofBorderSecond,
          symbol: simpleLineSymbol2,
        });

        const body1Graphic = new Graphic({
          geometry: body1,
          symbol: simpleLineSymbol,
        });

        //graphicsLayer.add(bottomGraphic);
        //graphicsLayer.add(bodyGraphic);
       // graphicsLayer.add(roofBorderGraphic);
        graphicsLayer.add(roofBorderSecondGraphic);
        graphicsLayer.add(body1Graphic);
      });
    </script>
  </head>
  <body>
    <div id="viewDiv"></div>
  </body>
</html>
